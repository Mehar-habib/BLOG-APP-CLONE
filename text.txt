Step-by-Step Flow Explanation:
User Submission
[Login Form] â†’ Submits credentials â†’ [Server Action]

Initial Validation
[Server Action] â†’ Validates with Zod â†’ Checks if user exists

Auth.js Handoff
[Server Action] â†’ Calls signIn("credentials") â†’ [Auth.js Config]

Core Authentication
[Auth.js Config] â†’ Re-validates â†’ Compares passwords with bcrypt

Result Propagation
Success: Creates session â†’ Redirects
Failure: [Auth.js Config] â†’ Returns error â†’ [Server Action] â†’ [Error Handling]

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////
ðŸ“¦ Code ka Flow aur Use Kaha Hota Hai?
1. getVerificationTokenByEmail(email)
Ye function check karta hai ke is email ke liye koi token already database mein saved to nahi.

Iska use is liye hota hai ke ek email ke liye multiple tokens na ho jayein.

2. generateEmailVerificationToken(email)
Ye function naya random token banata hai (uuidv4() se).

Token ki expiry bhi set karta hai (usually 1 hour).

Agar pehle se token hai to delete karta hai.

Fir naya token DB mein save karta hai aur return karta hai.

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////
Yeh code email verification system ka part hai, aur iska purpose yeh ensure karna hai ke:
User ne jo email diya hai, woh valid hai.
User woh email ka actual malik hai.
Account verification ke bina login ya other features use na kare.

âœ… Use Case (Kahan use hota hai?)
Jab user sign up karta hai â†’ usko ek email jata hai with token.
User us email ka link open karta hai â†’ token verify hota hai.
Agar token valid ho aur expired na ho â†’ user ka emailVerified status update hota hai in database.

âœ… Why? (Yeh kyun zaroori hai?)
Security: Fake emails se bachne ke liye.
Spam prevention: Duplicate ya bot accounts ko roknay ke liye.
Trust & features: Kuch features sirf verified users ke liye enable hote hain.

âœ… Roman Urdu Explanation:
Jab user sign up karta hai, usay ek token wala email bheja jata hai.
Jab user us link ko open karta hai, yeh code us token ko check karta hai:
Agar token nahi mila â†’ error deta hai.
Agar token expire ho gaya â†’ error deta hai.
Agar user database mein exist nahi karta â†’ error deta hai.
Agar sab theek hai â†’ user ke account mein emailVerified ko true set kar deta hai.
Is tarah system ko pata chal jata hai ke email sach mein user ka hai.

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////
phaly email reset, phir passwrod reset
User email daalta hai "Forgot Password" form mein.
Email validate hoti hai.
System user ko database se find karta hai.
Agar user mil jaye, to reset token generate hota hai.
Us token ke sath email send hoti hai.
User email se link par click karta hai aur naya password set karta hai (next step mein).